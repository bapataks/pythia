                                                                                            QUERY PLAN                                                                                            
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=545467.38..545467.39 rows=1 width=8) (actual time=1162.589..1162.596 rows=1 loops=1)
   Buffers: shared hit=84891 read=11670
   ->  Nested Loop  (cost=90763.69..545467.37 rows=1 width=0) (actual time=1055.962..1162.590 rows=1 loops=1)
         Buffers: shared hit=84891 read=11670
         ->  Nested Loop  (cost=90763.69..545464.95 rows=1 width=4) (actual time=1055.954..1162.576 rows=1 loops=1)
               Buffers: shared hit=84890 read=11670
               ->  Nested Loop  (cost=90763.69..545462.53 rows=1 width=8) (actual time=1055.933..1162.548 rows=1 loops=1)
                     Buffers: shared hit=84889 read=11670
                     ->  Hash Join  (cost=90763.26..545448.61 rows=6 width=12) (actual time=413.067..1150.352 rows=289 loops=1)
                           Hash Cond: (ci.role_id = rt.id)
                           Buffers: shared hit=84011 read=11392
                           ->  Nested Loop  (cost=90762.09..545447.19 rows=72 width=16) (actual time=411.020..1147.990 rows=20498 loops=1)
                                 Buffers: shared hit=84010 read=11392
                                 ->  Nested Loop  (cost=90761.65..545222.80 rows=5 width=20) (actual time=411.000..940.660 rows=1974 loops=1)
                                       Buffers: shared hit=61310 read=7985
                                       ->  Hash Join  (cost=90761.22..508122.47 rows=857 width=12) (actual time=410.959..782.627 rows=2811 loops=1)
                                             Hash Cond: (mi2.movie_id = t.id)
                                             Buffers: shared hit=39862 read=5942
                                             ->  Bitmap Heap Scan on movie_info mi2  (cost=13058.94..430358.00 rows=14300 width=8) (actual time=37.006..379.723 rows=219988 loops=1)
                                                   Recheck Cond: (info_type_id = 4)
                                                   Filter: ((info)::text = ANY ('{Finnish,Hindi,Italian,Japanese,Portuguese,Russian,Spanish}'::text[]))
                                                   Rows Removed by Filter: 1079001
                                                   Heap Blocks: exact=8393
                                                   Buffers: shared hit=9412
                                                   ->  Bitmap Index Scan on info_type_id_movie_info  (cost=0.00..13055.37 rows=1221191 width=0) (actual time=34.631..34.631 rows=1298989 loops=1)
                                                         Index Cond: (info_type_id = 4)
                                                         Buffers: shared hit=1019
                                             ->  Hash  (cost=75807.58..75807.58 rows=151576 width=4) (actual time=372.924..372.926 rows=11843 loops=1)
                                                   Buckets: 262144  Batches: 1  Memory Usage: 2465kB
                                                   Buffers: shared hit=30450 read=5942
                                                   ->  Hash Join  (cost=1.13..75807.58 rows=151576 width=4) (actual time=0.197..370.291 rows=11843 loops=1)
                                                         Hash Cond: (t.kind_id = kt.id)
                                                         Buffers: shared hit=30450 read=5942
                                                         ->  Seq Scan on title t  (cost=0.00..74315.95 rows=353677 width=8) (actual time=0.040..350.295 rows=347589 loops=1)
                                                               Filter: ((production_year <= 1975) AND (1925 < production_year))
                                                               Rows Removed by Filter: 2180723
                                                               Buffers: shared hit=30449 read=5942
                                                         ->  Hash  (cost=1.10..1.10 rows=3 width=4) (actual time=0.014..0.015 rows=3 loops=1)
                                                               Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                                               Buffers: shared hit=1
                                                               ->  Seq Scan on kind_type kt  (cost=0.00..1.10 rows=3 width=4) (actual time=0.007..0.009 rows=3 loops=1)
                                                                     Filter: ((kind)::text = ANY ('{"tv series","video game","video movie"}'::text[]))
                                                                     Rows Removed by Filter: 4
                                                                     Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi1  (cost=0.43..43.28 rows=1 width=8) (actual time=0.051..0.056 rows=1 loops=2811)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 8) AND ((info)::text = ANY ('{Brazil,Finland,India,Italy,Japan,Mexico,"Soviet Union"}'::text[])))
                                             Rows Removed by Filter: 7
                                             Buffers: shared hit=21448 read=2043
                                 ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..44.50 rows=38 width=12) (actual time=0.030..0.103 rows=10 loops=1974)
                                       Index Cond: (movie_id = t.id)
                                       Buffers: shared hit=22700 read=3407
                           ->  Hash  (cost=1.15..1.15 rows=1 width=4) (actual time=0.031..0.032 rows=1 loops=1)
                                 Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                 Buffers: shared hit=1
                                 ->  Seq Scan on role_type rt  (cost=0.00..1.15 rows=1 width=4) (actual time=0.024..0.026 rows=1 loops=1)
                                       Filter: ((role)::text = 'composer'::text)
                                       Rows Removed by Filter: 11
                                       Buffers: shared hit=1
                     ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.042..0.042 rows=0 loops=289)
                           Index Cond: (id = ci.person_id)
                           Filter: ((gender)::text = 'f'::text)
                           Rows Removed by Filter: 1
                           Buffers: shared hit=878 read=278
               ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.020..0.026 rows=1 loops=1)
                     Filter: (id = 8)
                     Rows Removed by Filter: 112
                     Buffers: shared hit=1
         ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.006..0.013 rows=1 loops=1)
               Filter: (id = 4)
               Rows Removed by Filter: 112
               Buffers: shared hit=1
 Planning:
   Buffers: shared hit=573 read=1
 Planning Time: 14.230 ms
 Execution Time: 1163.313 ms
(76 rows)

