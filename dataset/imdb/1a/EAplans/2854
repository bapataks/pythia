                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              QUERY PLAN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=433114.24..433114.25 rows=1 width=8) (actual time=1367.707..1367.716 rows=1 loops=1)
   Buffers: shared hit=77275 read=22980
   ->  Nested Loop  (cost=3726.51..433114.23 rows=1 width=0) (actual time=18.577..1367.476 rows=633 loops=1)
         Buffers: shared hit=77275 read=22980
         ->  Hash Join  (cost=3726.08..433111.91 rows=1 width=4) (actual time=18.524..1313.593 rows=1343 loops=1)
               Hash Cond: (ci.role_id = rt.id)
               Buffers: shared hit=72902 read=21981
               ->  Nested Loop  (cost=3724.92..433110.70 rows=14 width=8) (actual time=18.279..1308.635 rows=24497 loops=1)
                     Buffers: shared hit=72901 read=21981
                     ->  Nested Loop  (cost=3724.48..433066.15 rows=1 width=12) (actual time=18.224..938.194 rows=2693 loops=1)
                           Buffers: shared hit=52577 read=10122
                           ->  Nested Loop  (cost=3724.48..433063.73 rows=1 width=16) (actual time=18.212..882.762 rows=2693 loops=1)
                                 Buffers: shared hit=49884 read=10122
                                 ->  Nested Loop  (cost=3724.48..433061.31 rows=1 width=20) (actual time=18.187..825.630 rows=2693 loops=1)
                                       Buffers: shared hit=47191 read=10122
                                       ->  Hash Join  (cost=3724.04..432673.21 rows=9 width=12) (actual time=17.923..458.429 rows=2898 loops=1)
                                             Hash Cond: (t.kind_id = kt.id)
                                             Buffers: shared hit=22527 read=2506
                                             ->  Nested Loop  (cost=3722.87..432671.97 rows=13 width=16) (actual time=17.886..456.798 rows=2898 loops=1)
                                                   Buffers: shared hit=22526 read=2506
                                                   ->  Bitmap Heap Scan on movie_info mi2  (cost=3722.44..432071.85 rows=71 width=8) (actual time=17.263..318.097 rows=3454 loops=1)
                                                         Recheck Cond: (info_type_id = 17)
                                                         Filter: ((info)::text = ANY ('{"A print of this film survives in the UCLA Film and Television Archives.","In September 1928, Warner Bros. Pictures purchased a majority interest in First National Pictures and from that point on, all \"First National\" productions were actually made under Warner Bros. control, even though the two companies continued to retain separate identities until the mid-1930s, after which time \"A Warner Bros.-First National Picture\" was often used.","Last show of the series.","One of over 700 Paramount productions, filmed between 1929 and 1949, which were sold to MCA/Universal in 1958 for television distribution, and have been owned and controlled by Universal ever since.","Original Danish title is undetermined.","Original French title is undetermined.","This film is believed lost. Please check your attic.","This film is presumed lost. Please check your attic."}'::text[]))
                                                         Rows Removed by Filter: 364764
                                                         Heap Blocks: exact=10925
                                                         Buffers: shared hit=11176 read=40
                                                         ->  Bitmap Index Scan on info_type_id_movie_info  (cost=0.00..3722.42 rows=347998 width=0) (actual time=14.492..14.493 rows=368218 loops=1)
                                                               Index Cond: (info_type_id = 17)
                                                               Buffers: shared hit=291
                                                   ->  Index Scan using title_pkey on title t  (cost=0.43..8.45 rows=1 width=8) (actual time=0.039..0.039 rows=1 loops=3454)
                                                         Index Cond: (id = mi2.movie_id)
                                                         Filter: ((production_year <= 1975) AND (production_year >= 1875))
                                                         Rows Removed by Filter: 0
                                                         Buffers: shared hit=11350 read=2466
                                             ->  Hash  (cost=1.11..1.11 rows=5 width=4) (actual time=0.018..0.020 rows=5 loops=1)
                                                   Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                                   Buffers: shared hit=1
                                                   ->  Seq Scan on kind_type kt  (cost=0.00..1.11 rows=5 width=4) (actual time=0.009..0.013 rows=5 loops=1)
                                                         Filter: ((kind)::text = ANY ('{episode,movie,"tv movie","tv series","video movie"}'::text[]))
                                                         Rows Removed by Filter: 2
                                                         Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi1  (cost=0.43..43.11 rows=1 width=8) (actual time=0.068..0.126 rows=1 loops=2898)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 7) AND ((info)::text = ANY ('{"LAB:DeLuxe, USA","LAB:Technicolor, UK","OFM:35 mm",PCS:CinemaScope,PCS:Techniscope,"RAT:1.85 : 1","RAT:2.55 : 1",RAT:4:3}'::text[])))
                                             Rows Removed by Filter: 12
                                             Buffers: shared hit=24664 read=7616
                                 ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.010..0.020 rows=1 loops=2693)
                                       Filter: (id = 7)
                                       Rows Removed by Filter: 112
                                       Buffers: shared hit=2693
                           ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.011..0.019 rows=1 loops=2693)
                                 Filter: (id = 17)
                                 Rows Removed by Filter: 112
                                 Buffers: shared hit=2693
                     ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..44.17 rows=38 width=12) (actual time=0.036..0.134 rows=9 loops=2693)
                           Index Cond: (movie_id = t.id)
                           Buffers: shared hit=20324 read=11859
               ->  Hash  (cost=1.15..1.15 rows=1 width=4) (actual time=0.025..0.026 rows=1 loops=1)
                     Buckets: 1024  Batches: 1  Memory Usage: 9kB
                     Buffers: shared hit=1
                     ->  Seq Scan on role_type rt  (cost=0.00..1.15 rows=1 width=4) (actual time=0.018..0.021 rows=1 loops=1)
                           Filter: ((role)::text = 'producer'::text)
                           Rows Removed by Filter: 11
                           Buffers: shared hit=1
         ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.039..0.039 rows=0 loops=1343)
               Index Cond: (id = ci.person_id)
               Filter: (((gender)::text = 'f'::text) OR (gender IS NULL))
               Rows Removed by Filter: 1
               Buffers: shared hit=4373 read=999
 Planning:
   Buffers: shared hit=574
 Planning Time: 8.710 ms
 Execution Time: 1368.194 ms
(73 rows)

