                                                                                                                                                                                               QUERY PLAN                                                                                                                                                                                               
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=363364.28..363364.29 rows=1 width=8) (actual time=3448.374..3448.379 rows=1 loops=1)
   Buffers: shared hit=242538 read=112242
   ->  Nested Loop  (cost=2.19..363364.28 rows=2 width=0) (actual time=3.499..3446.803 rows=12068 loops=1)
         Buffers: shared hit=242538 read=112242
         ->  Nested Loop  (cost=1.76..363359.64 rows=2 width=4) (actual time=3.430..3042.269 rows=12068 loops=1)
               Join Filter: (ci.role_id = rt.id)
               Rows Removed by Join Filter: 91960
               Buffers: shared hit=205229 read=101279
               ->  Nested Loop  (cost=1.76..363358.07 rows=14 width=8) (actual time=2.701..3016.306 rows=56810 loops=1)
                     Buffers: shared hit=205228 read=101279
                     ->  Nested Loop  (cost=1.32..363314.38 rows=1 width=12) (actual time=2.633..2341.735 rows=2436 loops=1)
                           Buffers: shared hit=179406 read=64334
                           ->  Nested Loop  (cost=1.32..363311.95 rows=1 width=16) (actual time=2.617..2302.755 rows=2436 loops=1)
                                 Buffers: shared hit=176970 read=64334
                                 ->  Nested Loop  (cost=1.32..363309.53 rows=1 width=20) (actual time=2.596..2262.946 rows=2436 loops=1)
                                       Buffers: shared hit=174534 read=64334
                                       ->  Nested Loop  (cost=0.86..362377.59 rows=22 width=12) (actual time=0.584..640.809 rows=14332 loops=1)
                                             Join Filter: (t.kind_id = kt.id)
                                             Rows Removed by Join Filter: 7603
                                             Buffers: shared hit=56832 read=7246
                                             ->  Nested Loop  (cost=0.86..362374.37 rows=26 width=16) (actual time=0.561..633.580 rows=14332 loops=1)
                                                   Buffers: shared hit=56831 read=7246
                                                   ->  Index Scan using info_type_id_movie_info on movie_info mi2  (cost=0.43..362103.89 rows=32 width=8) (actual time=0.483..127.650 rows=14751 loops=1)
                                                         Index Cond: (info_type_id = 105)
                                                         Filter: ((info)::text = ANY ('{"$10,000","$12,000","$12,000,000","$18,000,000",$200,"$30,000","$5,000","$80,000,000","€ 10,000","€ 5,000"}'::text[]))
                                                         Rows Removed by Filter: 107112
                                                         Buffers: shared hit=317 read=4756
                                                   ->  Index Scan using title_pkey on title t  (cost=0.43..8.45 rows=1 width=8) (actual time=0.034..0.034 rows=1 loops=14751)
                                                         Index Cond: (id = mi2.movie_id)
                                                         Filter: ((production_year <= 2015) AND (production_year >= 1975))
                                                         Rows Removed by Filter: 0
                                                         Buffers: shared hit=56514 read=2490
                                             ->  Materialize  (cost=0.00..1.15 rows=6 width=4) (actual time=0.000..0.000 rows=2 loops=14332)
                                                   Buffers: shared hit=1
                                                   ->  Seq Scan on kind_type kt  (cost=0.00..1.12 rows=6 width=4) (actual time=0.013..0.016 rows=6 loops=1)
                                                         Filter: ((kind)::text = ANY ('{episode,movie,"tv movie","tv series","video game","video movie"}'::text[]))
                                                         Rows Removed by Filter: 1
                                                         Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi1  (cost=0.46..42.35 rows=1 width=8) (actual time=0.100..0.113 rows=0 loops=14332)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 18) AND ((info)::text = ANY ('{"Brooklyn, New York City, New York, USA",Canada,India,"Long Beach, California, USA","Los Angeles, California, USA","Manhattan, New York City, New York, USA","New York City, New York, USA","Phoenix, Arizona, USA","San Diego, California, USA","Sydney, New South Wales, Australia"}'::text[])))
                                             Rows Removed by Filter: 14
                                             Buffers: shared hit=117702 read=57088
                                 ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.009..0.015 rows=1 loops=2436)
                                       Filter: (id = 18)
                                       Rows Removed by Filter: 112
                                       Buffers: shared hit=2436
                           ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.014..0.015 rows=1 loops=2436)
                                 Filter: (id = 105)
                                 Rows Removed by Filter: 112
                                 Buffers: shared hit=2436
                     ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..43.32 rows=38 width=12) (actual time=0.037..0.272 rows=23 loops=2436)
                           Index Cond: (movie_id = t.id)
                           Buffers: shared hit=25822 read=36945
               ->  Materialize  (cost=0.00..1.16 rows=2 width=4) (actual time=0.000..0.000 rows=2 loops=56810)
                     Buffers: shared hit=1
                     ->  Seq Scan on role_type rt  (cost=0.00..1.15 rows=2 width=4) (actual time=0.010..0.012 rows=2 loops=1)
                           Filter: ((role)::text = ANY ('{actress,editor}'::text[]))
                           Rows Removed by Filter: 10
                           Buffers: shared hit=1
         ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.033..0.033 rows=1 loops=12068)
               Index Cond: (id = ci.person_id)
               Filter: (((gender)::text = ANY ('{f,m}'::text[])) OR (gender IS NULL))
               Buffers: shared hit=37309 read=10963
 Planning:
   Buffers: shared hit=576 read=1
 Planning Time: 13.745 ms
 Execution Time: 3448.817 ms
(68 rows)

