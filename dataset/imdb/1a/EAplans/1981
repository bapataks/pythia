                                                                                            QUERY PLAN                                                                                            
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=544035.00..544035.01 rows=1 width=8) (actual time=14726.332..14726.342 rows=1 loops=1)
   Buffers: shared hit=1263508 read=239794, temp read=1953 written=1953
   ->  Nested Loop  (cost=94675.35..544034.94 rows=26 width=0) (actual time=604.593..14725.391 rows=2414 loops=1)
         Buffers: shared hit=1263508 read=239794, temp read=1953 written=1953
         ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.046..0.058 rows=1 loops=1)
               Filter: (id = 4)
               Rows Removed by Filter: 112
               Buffers: shared hit=1
         ->  Nested Loop  (cost=94675.35..544032.26 rows=26 width=4) (actual time=604.545..14724.662 rows=2414 loops=1)
               Buffers: shared hit=1263507 read=239794, temp read=1953 written=1953
               ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.010..0.024 rows=1 loops=1)
                     Filter: (id = 8)
                     Rows Removed by Filter: 112
                     Buffers: shared hit=1
               ->  Nested Loop  (cost=94675.35..544029.59 rows=26 width=8) (actual time=604.532..14723.906 rows=2414 loops=1)
                     Buffers: shared hit=1263506 read=239794, temp read=1953 written=1953
                     ->  Hash Join  (cost=94674.92..543774.44 rows=110 width=12) (actual time=581.629..12306.728 rows=69399 loops=1)
                           Hash Cond: (ci.role_id = rt.id)
                           Buffers: shared hit=999544 read=226160, temp read=1953 written=1953
                           ->  Nested Loop  (cost=94673.75..543770.93 rows=659 width=16) (actual time=581.565..12192.263 rows=553256 loops=1)
                                 Buffers: shared hit=999543 read=226160, temp read=1953 written=1953
                                 ->  Nested Loop  (cost=94673.31..541729.72 rows=46 width=20) (actual time=581.541..6067.859 rows=31411 loops=1)
                                       Buffers: shared hit=493127 read=98216, temp read=1953 written=1953
                                       ->  Hash Join  (cost=94672.87..468412.12 rows=1701 width=12) (actual time=581.474..1067.259 rows=61548 loops=1)
                                             Hash Cond: (mi1.movie_id = t.id)
                                             Buffers: shared hit=12028 read=33257, temp read=1953 written=1953
                                             ->  Bitmap Heap Scan on movie_info mi1  (cost=14216.14..386811.44 rows=18383 width=8) (actual time=38.074..328.842 rows=228612 loops=1)
                                                   Recheck Cond: (info_type_id = 8)
                                                   Filter: ((info)::text = ANY ('{Belgium,Canada,China,Czechoslovakia,France,India,Iran,Japan,Romania,"Soviet Union",Sweden}'::text[]))
                                                   Rows Removed by Filter: 1096749
                                                   Heap Blocks: exact=7853
                                                   Buffers: shared hit=3387 read=5506
                                                   ->  Bitmap Index Scan on info_type_id_movie_info  (cost=0.00..14211.52 rows=1329478 width=0) (actual time=37.091..37.091 rows=1325361 loops=1)
                                                         Index Cond: (info_type_id = 8)
                                                         Buffers: shared read=1040
                                             ->  Hash  (cost=76617.93..76617.93 rows=233984 width=4) (actual time=542.163..542.166 rows=504538 loops=1)
                                                   Buckets: 262144 (originally 262144)  Batches: 4 (originally 2)  Memory Usage: 6483kB
                                                   Buffers: shared hit=8641 read=27751, temp written=1107
                                                   ->  Hash Join  (cost=1.13..76617.93 rows=233984 width=4) (actual time=0.044..460.244 rows=504538 loops=1)
                                                         Hash Cond: (t.kind_id = kt.id)
                                                         Buffers: shared hit=8641 read=27751
                                                         ->  Seq Scan on title t  (cost=0.00..74315.95 rows=545963 width=8) (actual time=0.024..398.408 rows=538239 loops=1)
                                                               Filter: ((production_year <= 1990) AND (1950 < production_year))
                                                               Rows Removed by Filter: 1990073
                                                               Buffers: shared hit=8640 read=27751
                                                         ->  Hash  (cost=1.10..1.10 rows=3 width=4) (actual time=0.015..0.016 rows=3 loops=1)
                                                               Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                                               Buffers: shared hit=1
                                                               ->  Seq Scan on kind_type kt  (cost=0.00..1.10 rows=3 width=4) (actual time=0.008..0.009 rows=3 loops=1)
                                                                     Filter: ((kind)::text = ANY ('{episode,movie,"tv movie"}'::text[]))
                                                                     Rows Removed by Filter: 4
                                                                     Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi2  (cost=0.43..43.09 rows=1 width=8) (actual time=0.056..0.081 rows=1 loops=61548)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 4) AND ((info)::text = ANY ('{Czech,Dutch,English,French,Georgian,Mandarin,Persian,Romanian,Swedish,Tamil}'::text[])))
                                             Rows Removed by Filter: 8
                                             Buffers: shared hit=481099 read=64959
                                 ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..43.99 rows=38 width=12) (actual time=0.035..0.190 rows=18 loops=31411)
                                       Index Cond: (movie_id = t.id)
                                       Buffers: shared hit=506416 read=127944
                           ->  Hash  (cost=1.15..1.15 rows=2 width=4) (actual time=0.019..0.020 rows=2 loops=1)
                                 Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                 Buffers: shared hit=1
                                 ->  Seq Scan on role_type rt  (cost=0.00..1.15 rows=2 width=4) (actual time=0.011..0.013 rows=2 loops=1)
                                       Filter: ((role)::text = ANY ('{cinematographer,writer}'::text[]))
                                       Rows Removed by Filter: 10
                                       Buffers: shared hit=1
                     ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.034..0.034 rows=0 loops=69399)
                           Index Cond: (id = ci.person_id)
                           Filter: ((gender)::text = 'f'::text)
                           Rows Removed by Filter: 1
                           Buffers: shared hit=263962 read=13634
 Planning:
   Buffers: shared hit=522 read=55
 Planning Time: 14.328 ms
 Execution Time: 14727.005 ms
(76 rows)

