                                                                                                                                                                                                                                      QUERY PLAN                                                                                                                                                                                                                                       
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=404228.61..404228.62 rows=1 width=8) (actual time=302.094..302.101 rows=1 loops=1)
   Buffers: shared hit=11323 read=16163
   ->  Nested Loop  (cost=3726.51..404228.60 rows=1 width=0) (actual time=166.094..302.095 rows=1 loops=1)
         Buffers: shared hit=11323 read=16163
         ->  Hash Join  (cost=3726.08..404226.28 rows=1 width=4) (actual time=166.054..302.054 rows=1 loops=1)
               Hash Cond: (ci.role_id = rt.id)
               Buffers: shared hit=11321 read=16161
               ->  Nested Loop  (cost=3724.91..404225.07 rows=14 width=8) (actual time=165.553..301.981 rows=77 loops=1)
                     Buffers: shared hit=11320 read=16161
                     ->  Nested Loop  (cost=3724.47..404181.38 rows=1 width=12) (actual time=165.514..301.360 rows=1 loops=1)
                           Buffers: shared hit=11312 read=16090
                           ->  Nested Loop  (cost=3724.47..404178.95 rows=1 width=16) (actual time=165.508..301.348 rows=1 loops=1)
                                 Buffers: shared hit=11311 read=16090
                                 ->  Nested Loop  (cost=3724.47..404176.53 rows=1 width=20) (actual time=165.487..301.323 rows=1 loops=1)
                                       Buffers: shared hit=11310 read=16090
                                       ->  Hash Join  (cost=3724.04..402904.91 rows=30 width=12) (actual time=14.327..223.270 rows=736 loops=1)
                                             Hash Cond: (t.kind_id = kt.id)
                                             Buffers: shared hit=5934 read=11343
                                             ->  Nested Loop  (cost=3722.86..402903.56 rows=42 width=16) (actual time=14.276..222.959 rows=738 loops=1)
                                                   Buffers: shared hit=5933 read=11343
                                                   ->  Bitmap Heap Scan on movie_info mi1  (cost=3722.43..402455.57 rows=53 width=8) (actual time=14.227..172.792 rows=1515 loops=1)
                                                         Recheck Cond: (info_type_id = 17)
                                                         Filter: ((info)::text = ANY ('{"Despite the fact that this was filmed in Super 35, \"Filmed in Panavision\" is listed in the end credits.","Last show of the series.","Not screened for critics.","Not screened in advance for critics.","Premiere voted this movie as one of \"The 50 Greatest Comedies Of All Time\" in 2006.","This film is considered an \"Ozploitation\" (Australian exploitation) picture."}'::text[]))
                                                         Rows Removed by Filter: 366703
                                                         Heap Blocks: exact=10925
                                                         Buffers: shared hit=591 read=10625
                                                         ->  Bitmap Index Scan on info_type_id_movie_info  (cost=0.00..3722.42 rows=347998 width=0) (actual time=12.670..12.671 rows=368218 loops=1)
                                                               Index Cond: (info_type_id = 17)
                                                               Buffers: shared hit=1 read=290
                                                   ->  Index Scan using title_pkey on title t  (cost=0.43..8.45 rows=1 width=8) (actual time=0.033..0.033 rows=0 loops=1515)
                                                         Index Cond: (id = mi1.movie_id)
                                                         Filter: ((production_year <= 2015) AND (production_year >= 1975))
                                                         Rows Removed by Filter: 1
                                                         Buffers: shared hit=5342 read=718
                                             ->  Hash  (cost=1.11..1.11 rows=5 width=4) (actual time=0.023..0.024 rows=5 loops=1)
                                                   Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                                   Buffers: shared hit=1
                                                   ->  Seq Scan on kind_type kt  (cost=0.00..1.11 rows=5 width=4) (actual time=0.010..0.012 rows=5 loops=1)
                                                         Filter: ((kind)::text = ANY ('{episode,movie,"tv movie","tv series","video game"}'::text[]))
                                                         Rows Removed by Filter: 2
                                                         Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi2  (cost=0.43..42.38 rows=1 width=8) (actual time=0.105..0.106 rows=0 loops=736)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 16) AND ((info)::text = ANY ('{"Canada:5 February 2011","France:October 1997",Peru:1989,USA:2008,"USA:8 December 2012"}'::text[])))
                                             Rows Removed by Filter: 45
                                             Buffers: shared hit=5376 read=4747
                                 ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.019..0.023 rows=1 loops=1)
                                       Filter: (id = 17)
                                       Rows Removed by Filter: 112
                                       Buffers: shared hit=1
                           ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.005..0.009 rows=1 loops=1)
                                 Filter: (id = 16)
                                 Rows Removed by Filter: 112
                                 Buffers: shared hit=1
                     ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..43.32 rows=38 width=12) (actual time=0.036..0.607 rows=77 loops=1)
                           Index Cond: (movie_id = t.id)
                           Buffers: shared hit=8 read=71
               ->  Hash  (cost=1.15..1.15 rows=1 width=4) (actual time=0.036..0.037 rows=1 loops=1)
                     Buckets: 1024  Batches: 1  Memory Usage: 9kB
                     Buffers: shared hit=1
                     ->  Seq Scan on role_type rt  (cost=0.00..1.15 rows=1 width=4) (actual time=0.029..0.030 rows=1 loops=1)
                           Filter: ((role)::text = 'editor'::text)
                           Rows Removed by Filter: 11
                           Buffers: shared hit=1
         ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.038..0.038 rows=1 loops=1)
               Index Cond: (id = ci.person_id)
               Filter: (((gender)::text = ANY ('{f,m}'::text[])) OR (gender IS NULL))
               Buffers: shared hit=2 read=2
 Planning:
   Buffers: shared hit=574
 Planning Time: 12.194 ms
 Execution Time: 302.618 ms
(72 rows)

