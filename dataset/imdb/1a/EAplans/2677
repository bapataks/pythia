                                                                                                                                                                                       QUERY PLAN                                                                                                                                                                                       
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=358875.46..358875.47 rows=1 width=8) (actual time=179.383..179.389 rows=1 loops=1)
   Buffers: shared hit=3730 read=11729
   ->  Nested Loop  (cost=3726.62..358875.45 rows=3 width=0) (actual time=153.020..179.373 rows=117 loops=1)
         Buffers: shared hit=3730 read=11729
         ->  Hash Join  (cost=3726.19..358861.53 rows=6 width=4) (actual time=152.983..176.542 rows=129 loops=1)
               Hash Cond: (ci.role_id = rt.id)
               Buffers: shared hit=3286 read=11657
               ->  Nested Loop  (cost=3724.93..358860.23 rows=14 width=8) (actual time=152.156..176.388 rows=1182 loops=1)
                     Buffers: shared hit=3285 read=11657
                     ->  Nested Loop  (cost=3724.49..358816.49 rows=1 width=12) (actual time=152.115..166.904 rows=3 loops=1)
                           Buffers: shared hit=2326 read=11455
                           ->  Nested Loop  (cost=3724.49..358814.07 rows=1 width=16) (actual time=152.109..166.873 rows=3 loops=1)
                                 Buffers: shared hit=2323 read=11455
                                 ->  Nested Loop  (cost=3724.49..358811.65 rows=1 width=20) (actual time=152.089..166.826 rows=3 loops=1)
                                       Buffers: shared hit=2320 read=11455
                                       ->  Hash Join  (cost=3724.03..358260.64 rows=13 width=12) (actual time=53.596..147.615 rows=77 loops=1)
                                             Hash Cond: (t.kind_id = kt.id)
                                             Buffers: shared hit=1372 read=10157
                                             ->  Nested Loop  (cost=3722.86..358259.38 rows=19 width=16) (actual time=53.556..147.520 rows=77 loops=1)
                                                   Buffers: shared hit=1371 read=10157
                                                   ->  Bitmap Heap Scan on movie_info mi2  (cost=3722.43..358031.17 rows=27 width=8) (actual time=53.516..145.691 rows=78 loops=1)
                                                         Recheck Cond: (info_type_id = 17)
                                                         Filter: ((info)::text = ANY ('{"Despite the fact that this was filmed in Super 35, \"Filmed in Panavision\" is listed in the end credits.","Despite the fact that this was filmed in the standard spherical format, \"Filmed in Panavision\" is listed in the end credits.","Not screened in advance for critics."}'::text[]))
                                                         Rows Removed by Filter: 368140
                                                         Heap Blocks: exact=10925
                                                         Buffers: shared hit=1061 read=10155
                                                         ->  Bitmap Index Scan on info_type_id_movie_info  (cost=0.00..3722.42 rows=347998 width=0) (actual time=12.891..12.891 rows=368218 loops=1)
                                                               Index Cond: (info_type_id = 17)
                                                               Buffers: shared read=291
                                                   ->  Index Scan using title_pkey on title t  (cost=0.43..8.45 rows=1 width=8) (actual time=0.022..0.022 rows=1 loops=78)
                                                         Index Cond: (id = mi2.movie_id)
                                                         Filter: ((production_year <= 2015) AND (production_year >= 1990))
                                                         Rows Removed by Filter: 0
                                                         Buffers: shared hit=310 read=2
                                             ->  Hash  (cost=1.11..1.11 rows=5 width=4) (actual time=0.020..0.021 rows=5 loops=1)
                                                   Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                                   Buffers: shared hit=1
                                                   ->  Seq Scan on kind_type kt  (cost=0.00..1.11 rows=5 width=4) (actual time=0.010..0.012 rows=5 loops=1)
                                                         Filter: ((kind)::text = ANY ('{episode,movie,"tv movie","video game","video movie"}'::text[]))
                                                         Rows Removed by Filter: 2
                                                         Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi1  (cost=0.46..42.38 rows=1 width=8) (actual time=0.200..0.249 rows=0 loops=77)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 16) AND ((info)::text = ANY ('{"Belgium:19 December 2001","France:16 November 2004","Hungary:10 April 2004","South Korea:13 December 2002","South Korea:13 March 1999","Switzerland:25 June 2009","Switzerland:9 January 1998","USA:17 November 2006","USA:5 November 2010","USA:5 September 2001"}'::text[])))
                                             Rows Removed by Filter: 228
                                             Buffers: shared hit=948 read=1298
                                 ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.009..0.013 rows=1 loops=3)
                                       Filter: (id = 16)
                                       Rows Removed by Filter: 112
                                       Buffers: shared hit=3
                           ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.004..0.009 rows=1 loops=3)
                                 Filter: (id = 17)
                                 Rows Removed by Filter: 112
                                 Buffers: shared hit=3
                     ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..43.35 rows=38 width=12) (actual time=0.021..3.114 rows=394 loops=3)
                           Index Cond: (movie_id = t.id)
                           Buffers: shared hit=959 read=202
               ->  Hash  (cost=1.20..1.20 rows=5 width=4) (actual time=0.031..0.031 rows=5 loops=1)
                     Buckets: 1024  Batches: 1  Memory Usage: 9kB
                     Buffers: shared hit=1
                     ->  Seq Scan on role_type rt  (cost=0.00..1.20 rows=5 width=4) (actual time=0.021..0.025 rows=5 loops=1)
                           Filter: ((role)::text = ANY ('{actress,"costume designer",editor,guest,"production designer"}'::text[]))
                           Rows Removed by Filter: 7
                           Buffers: shared hit=1
         ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.022..0.022 rows=1 loops=129)
               Index Cond: (id = ci.person_id)
               Filter: (((gender)::text = 'f'::text) OR (gender IS NULL))
               Rows Removed by Filter: 0
               Buffers: shared hit=444 read=72
 Planning:
   Buffers: shared hit=523 read=54
 Planning Time: 13.061 ms
 Execution Time: 179.833 ms
(73 rows)

