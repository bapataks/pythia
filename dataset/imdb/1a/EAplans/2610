                                                                                                                                                                   QUERY PLAN                                                                                                                                                                    
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=343902.63..343902.64 rows=1 width=8) (actual time=407.501..407.512 rows=1 loops=1)
   Buffers: shared hit=3160 read=14908
   ->  Nested Loop  (cost=3726.56..343902.62 rows=1 width=0) (actual time=93.296..407.498 rows=5 loops=1)
         Buffers: shared hit=3160 read=14908
         ->  Hash Join  (cost=3726.13..343893.34 rows=4 width=4) (actual time=76.761..403.319 rows=99 loops=1)
               Hash Cond: (ci.role_id = rt.id)
               Buffers: shared hit=2848 read=14824
               ->  Nested Loop  (cost=3724.93..343892.09 rows=14 width=8) (actual time=76.079..402.391 rows=4307 loops=1)
                     Buffers: shared hit=2847 read=14824
                     ->  Nested Loop  (cost=3724.49..343848.36 rows=1 width=12) (actual time=76.032..340.836 rows=28 loops=1)
                           Buffers: shared hit=1729 read=11671
                           ->  Nested Loop  (cost=3724.49..343845.94 rows=1 width=16) (actual time=76.026..340.212 rows=28 loops=1)
                                 Buffers: shared hit=1701 read=11671
                                 ->  Nested Loop  (cost=3724.49..343843.52 rows=1 width=20) (actual time=76.004..339.525 rows=28 loops=1)
                                       Buffers: shared hit=1673 read=11671
                                       ->  Hash Join  (cost=3724.05..343376.43 rows=11 width=12) (actual time=75.709..311.767 rows=61 loops=1)
                                             Hash Cond: (t.kind_id = kt.id)
                                             Buffers: shared hit=952 read=10513
                                             ->  Nested Loop  (cost=3722.85..343375.17 rows=13 width=16) (actual time=75.628..311.600 rows=61 loops=1)
                                                   Buffers: shared hit=951 read=10513
                                                   ->  Bitmap Heap Scan on movie_info mi1  (cost=3722.42..343223.03 rows=18 width=8) (actual time=75.565..308.801 rows=62 loops=1)
                                                         Recheck Cond: (info_type_id = 17)
                                                         Filter: ((info)::text = ANY ('{"Despite the fact that this was filmed in Super 35, \"Filmed in Panavision\" is listed in the end credits.","Despite the fact that this was filmed in the standard spherical format, \"Filmed in Panavision\" is listed in the end credits."}'::text[]))
                                                         Rows Removed by Filter: 368156
                                                         Heap Blocks: exact=10925
                                                         Buffers: shared hit=708 read=10508
                                                         ->  Bitmap Index Scan on info_type_id_movie_info  (cost=0.00..3722.42 rows=347998 width=0) (actual time=31.075..31.076 rows=368218 loops=1)
                                                               Index Cond: (info_type_id = 17)
                                                               Buffers: shared hit=1 read=290
                                                   ->  Index Scan using title_pkey on title t  (cost=0.43..8.45 rows=1 width=8) (actual time=0.043..0.043 rows=1 loops=62)
                                                         Index Cond: (id = mi1.movie_id)
                                                         Filter: ((production_year <= 2015) AND (production_year >= 1990))
                                                         Rows Removed by Filter: 0
                                                         Buffers: shared hit=243 read=5
                                             ->  Hash  (cost=1.12..1.12 rows=6 width=4) (actual time=0.059..0.060 rows=6 loops=1)
                                                   Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                                   Buffers: shared hit=1
                                                   ->  Seq Scan on kind_type kt  (cost=0.00..1.12 rows=6 width=4) (actual time=0.046..0.051 rows=6 loops=1)
                                                         Filter: ((kind)::text = ANY ('{episode,movie,"tv movie","tv series","video game","video movie"}'::text[]))
                                                         Rows Removed by Filter: 1
                                                         Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi2  (cost=0.43..42.45 rows=1 width=8) (actual time=0.421..0.454 rows=0 loops=61)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 5) AND ((info)::text = ANY ('{Australia:PG,Canada:14,Finland:K-12/9,Ireland:12,Mexico:C,Singapore:M18}'::text[])))
                                             Rows Removed by Filter: 254
                                             Buffers: shared hit=721 read=1158
                                 ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.014..0.022 rows=1 loops=28)
                                       Filter: (id = 17)
                                       Rows Removed by Filter: 112
                                       Buffers: shared hit=28
                           ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.011..0.020 rows=1 loops=28)
                                 Filter: (id = 5)
                                 Rows Removed by Filter: 112
                                 Buffers: shared hit=28
                     ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..43.35 rows=38 width=12) (actual time=0.056..2.155 rows=154 loops=28)
                           Index Cond: (movie_id = t.id)
                           Buffers: shared hit=1118 read=3153
               ->  Hash  (cost=1.17..1.17 rows=3 width=4) (actual time=0.074..0.076 rows=3 loops=1)
                     Buckets: 1024  Batches: 1  Memory Usage: 9kB
                     Buffers: shared hit=1
                     ->  Seq Scan on role_type rt  (cost=0.00..1.17 rows=3 width=4) (actual time=0.063..0.067 rows=3 loops=1)
                           Filter: ((role)::text = ANY ('{cinematographer,composer,editor}'::text[]))
                           Rows Removed by Filter: 9
                           Buffers: shared hit=1
         ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.041..0.041 rows=0 loops=99)
               Index Cond: (id = ci.person_id)
               Filter: ((gender)::text = 'f'::text)
               Rows Removed by Filter: 1
               Buffers: shared hit=312 read=84
 Planning:
   Buffers: shared hit=574
 Planning Time: 16.887 ms
 Execution Time: 408.179 ms
(73 rows)

