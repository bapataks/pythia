                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        QUERY PLAN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=361818.28..361818.29 rows=1 width=8) (actual time=88.574..88.582 rows=1 loops=1)
   Buffers: shared hit=1841 read=4321
   ->  Nested Loop  (cost=2067.63..361818.27 rows=3 width=0) (actual time=27.636..88.575 rows=4 loops=1)
         Buffers: shared hit=1841 read=4321
         ->  Hash Join  (cost=2067.20..361806.67 rows=5 width=4) (actual time=27.569..88.452 rows=4 loops=1)
               Hash Cond: (ci.role_id = rt.id)
               Buffers: shared hit=1830 read=4316
               ->  Nested Loop  (cost=2065.97..361805.40 rows=14 width=8) (actual time=27.484..88.385 rows=56 loops=1)
                     Buffers: shared hit=1829 read=4316
                     ->  Nested Loop  (cost=2065.53..361761.66 rows=1 width=12) (actual time=27.451..88.025 rows=2 loops=1)
                           Buffers: shared hit=1789 read=4294
                           ->  Nested Loop  (cost=2065.53..361759.24 rows=1 width=16) (actual time=27.441..88.001 rows=2 loops=1)
                                 Buffers: shared hit=1787 read=4294
                                 ->  Nested Loop  (cost=2065.53..361756.82 rows=1 width=20) (actual time=27.419..87.962 rows=2 loops=1)
                                       Buffers: shared hit=1785 read=4294
                                       ->  Hash Join  (cost=2065.10..361586.56 rows=4 width=12) (actual time=27.293..86.131 rows=2 loops=1)
                                             Hash Cond: (t.kind_id = kt.id)
                                             Buffers: shared hit=1728 read=4241
                                             ->  Nested Loop  (cost=2063.99..361585.39 rows=14 width=16) (actual time=27.244..86.077 rows=2 loops=1)
                                                   Buffers: shared hit=1727 read=4241
                                                   ->  Bitmap Heap Scan on movie_info mi1  (cost=2063.56..361416.34 rows=20 width=8) (actual time=27.199..86.017 rows=2 loops=1)
                                                         Recheck Cond: (info_type_id = 13)
                                                         Filter: ((info)::text = ANY ('{"CONT: Flipped Shot: When Chip and Kim deliver the chairs in Mto Wa Mbu in the episode \"Are You Sure This Is Safe?\" theres a child wearing a Pokemon shirt which is shown as a mirrored image. This is done on a lot on reality shows where licensed clothing is visible in order to get around licensing issues. Also, its easier to flip the image than to blur it out.","FACT: As teams are leaving Singapore you can see that the name of the airport in the graphic is Changai Airport, when in fact the airport in Singapore is Changi Airport","FACT: In the leg from Switzerland to Malaysia, the Amazing Yellow Line charts a plane ride from Geneva to Paris to Kuala Lumpur. However, according to the map, Paris is placed in the Iberian peninsula near Madrid, Spain.","FACT: When the teams are travelling from Argentina to Mozambique in the fourth episode of the All-Stars series, Phil Keoghans voice-over states that there are no international flights out of Ushuaia Airport. However, at what the on-screen caption claims is Ushuaia Airport, a Qantas plane is clearly visible. Qantas is Australias main international airline and would not be present at a solely domestic airport in Argentina (Qantas do, however, fly to Buenos Aires, so the scene was presumably filmed at Buenos Aires international airport)."}'::text[]))
                                                         Rows Removed by Filter: 180110
                                                         Heap Blocks: exact=5817
                                                         Buffers: shared hit=1722 read=4238
                                                         ->  Bitmap Index Scan on info_type_id_movie_info  (cost=0.00..2063.55 rows=192949 width=0) (actual time=8.310..8.310 rows=180112 loops=1)
                                                               Index Cond: (info_type_id = 13)
                                                               Buffers: shared read=143
                                                   ->  Index Scan using title_pkey on title t  (cost=0.43..8.45 rows=1 width=8) (actual time=0.026..0.026 rows=1 loops=2)
                                                         Index Cond: (id = mi1.movie_id)
                                                         Filter: ((production_year <= 2015) AND (production_year >= 1990))
                                                         Buffers: shared hit=5 read=3
                                             ->  Hash  (cost=1.09..1.09 rows=2 width=4) (actual time=0.021..0.022 rows=2 loops=1)
                                                   Buckets: 1024  Batches: 1  Memory Usage: 9kB
                                                   Buffers: shared hit=1
                                                   ->  Seq Scan on kind_type kt  (cost=0.00..1.09 rows=2 width=4) (actual time=0.012..0.013 rows=2 loops=1)
                                                         Filter: ((kind)::text = ANY ('{"tv movie","tv series"}'::text[]))
                                                         Rows Removed by Filter: 5
                                                         Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi2  (cost=0.43..42.56 rows=1 width=8) (actual time=0.102..0.913 rows=1 loops=2)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 18) AND ((info)::text = ANY ('{"Burbank, California, USA","Chicago, Illinois, USA","Dijon Street, Warner Brothers Burbank Studios - 4000 Warner Boulevard, Burbank, California, USA",Malta,"Oakland, California, USA","Santa Clarita, California, USA","University of British Columbia, Robson Square Campus - 800 Robson Street, Vancouver, British Columbia, Canada","West Hollywood, California, USA"}'::text[])))
                                             Rows Removed by Filter: 1583
                                             Buffers: shared hit=57 read=53
                                 ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.013..0.017 rows=1 loops=2)
                                       Filter: (id = 13)
                                       Rows Removed by Filter: 112
                                       Buffers: shared hit=2
                           ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.006..0.011 rows=1 loops=2)
                                 Filter: (id = 18)
                                 Rows Removed by Filter: 112
                                 Buffers: shared hit=2
                     ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..43.35 rows=38 width=12) (actual time=0.021..0.174 rows=28 loops=2)
                           Index Cond: (movie_id = t.id)
                           Buffers: shared hit=40 read=22
               ->  Hash  (cost=1.18..1.18 rows=4 width=4) (actual time=0.035..0.036 rows=4 loops=1)
                     Buckets: 1024  Batches: 1  Memory Usage: 9kB
                     Buffers: shared hit=1
                     ->  Seq Scan on role_type rt  (cost=0.00..1.18 rows=4 width=4) (actual time=0.024..0.027 rows=4 loops=1)
                           Filter: ((role)::text = ANY ('{composer,editor,producer,"production designer"}'::text[]))
                           Rows Removed by Filter: 8
                           Buffers: shared hit=1
         ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.024..0.024 rows=1 loops=4)
               Index Cond: (id = ci.person_id)
               Filter: (((gender)::text = 'm'::text) OR (gender IS NULL))
               Buffers: shared hit=11 read=5
 Planning:
   Buffers: shared hit=484 read=90
 Planning Time: 11.676 ms
 Execution Time: 89.013 ms
(71 rows)

