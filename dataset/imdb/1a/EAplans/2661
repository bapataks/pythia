                                                                                                                                                                                                                                                                                                                                                                                                                      QUERY PLAN                                                                                                                                                                                                                                                                                                                                                                                                                      
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=358450.37..358450.38 rows=1 width=8) (actual time=290.017..290.023 rows=1 loops=1)
   Buffers: shared hit=10440 read=16163
   ->  Nested Loop  (cost=3725.50..358450.36 rows=3 width=0) (actual time=71.182..289.997 rows=70 loops=1)
         Buffers: shared hit=10440 read=16163
         ->  Hash Join  (cost=3725.07..358441.08 rows=4 width=4) (actual time=71.136..286.650 rows=90 loops=1)
               Hash Cond: (ci.role_id = rt.id)
               Buffers: shared hit=10133 read=16110
               ->  Nested Loop  (cost=3723.86..358439.83 rows=14 width=8) (actual time=70.824..286.297 rows=2823 loops=1)
                     Buffers: shared hit=10132 read=16110
                     ->  Nested Loop  (cost=3723.42..358394.98 rows=1 width=12) (actual time=70.785..264.062 rows=41 loops=1)
                           Buffers: shared hit=8656 read=14748
                           ->  Nested Loop  (cost=3723.42..358392.55 rows=1 width=16) (actual time=70.777..263.658 rows=41 loops=1)
                                 Buffers: shared hit=8615 read=14748
                                 ->  Nested Loop  (cost=3723.42..358390.13 rows=1 width=20) (actual time=70.759..262.828 rows=41 loops=1)
                                       Buffers: shared hit=8574 read=14748
                                       ->  Nested Loop  (cost=3722.99..358260.00 rows=3 width=12) (actual time=49.090..194.434 rows=537 loops=1)
                                             Buffers: shared hit=3992 read=10526
                                             ->  Nested Loop  (cost=3722.86..358259.38 rows=4 width=16) (actual time=49.061..190.197 rows=537 loops=1)
                                                   Buffers: shared hit=2918 read=10526
                                                   ->  Bitmap Heap Scan on movie_info mi1  (cost=3722.43..358031.17 rows=27 width=8) (actual time=48.985..176.224 rows=557 loops=1)
                                                         Recheck Cond: (info_type_id = 17)
                                                         Filter: ((info)::text = ANY ('{"One of over 700 Paramount Productions, filmed between 1929 and 1949, which were sold to MCA/Universal in 1958 for television distribution, and have been owned and controlled by Universal ever since.","Premiere voted this movie as one of \"The 50 Greatest Comedies Of All Time\" in 2006.","The failure of the original copyright holder to renew the films copyright resulted in it falling into public domain, meaning that virtually anyone could duplicate and sell a VHS/DVD copy of the film. Therefore, many of the versions of this film available on the market are either severely (and usually badly) edited and/or of extremely poor quality, having been duped from second- or third-generation (or more) copies of the film."}'::text[]))
                                                         Rows Removed by Filter: 367661
                                                         Heap Blocks: exact=10925
                                                         Buffers: shared hit=695 read=10521
                                                         ->  Bitmap Index Scan on info_type_id_movie_info  (cost=0.00..3722.42 rows=347998 width=0) (actual time=13.657..13.657 rows=368218 loops=1)
                                                               Index Cond: (info_type_id = 17)
                                                               Buffers: shared read=291
                                                   ->  Index Scan using title_pkey on title t  (cost=0.43..8.45 rows=1 width=8) (actual time=0.025..0.025 rows=1 loops=557)
                                                         Index Cond: (id = mi1.movie_id)
                                                         Filter: ((production_year <= 1975) AND (production_year >= 1925))
                                                         Rows Removed by Filter: 0
                                                         Buffers: shared hit=2223 read=5
                                             ->  Index Scan using kind_type_pkey on kind_type kt  (cost=0.13..0.16 rows=1 width=4) (actual time=0.007..0.007 rows=1 loops=537)
                                                   Index Cond: (id = t.kind_id)
                                                   Filter: ((kind)::text = ANY ('{episode,movie,"tv movie","tv series","video game","video movie"}'::text[]))
                                                   Buffers: shared hit=1074
                                       ->  Index Scan using movie_id_movie_info on movie_info mi2  (cost=0.43..43.37 rows=1 width=8) (actual time=0.126..0.127 rows=0 loops=537)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 5) AND ((info)::text = ANY ('{Brazil:Livre,Canada:14,Canada:18A,Canada:A,Italy:VM14,Japan:G,Norway:15,UK:A,USA:M}'::text[])))
                                             Rows Removed by Filter: 36
                                             Buffers: shared hit=4582 read=4222
                                 ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.014..0.018 rows=1 loops=41)
                                       Filter: (id = 17)
                                       Rows Removed by Filter: 112
                                       Buffers: shared hit=41
                           ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.003..0.009 rows=1 loops=41)
                                 Filter: (id = 5)
                                 Rows Removed by Filter: 112
                                 Buffers: shared hit=41
                     ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..44.48 rows=38 width=12) (actual time=0.021..0.532 rows=69 loops=41)
                           Index Cond: (movie_id = t.id)
                           Buffers: shared hit=1476 read=1362
               ->  Hash  (cost=1.17..1.17 rows=3 width=4) (actual time=0.036..0.037 rows=3 loops=1)
                     Buckets: 1024  Batches: 1  Memory Usage: 9kB
                     Buffers: shared hit=1
                     ->  Seq Scan on role_type rt  (cost=0.00..1.17 rows=3 width=4) (actual time=0.027..0.029 rows=3 loops=1)
                           Filter: ((role)::text = ANY ('{guest,producer,"production designer"}'::text[]))
                           Rows Removed by Filter: 9
                           Buffers: shared hit=1
         ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.036..0.036 rows=1 loops=90)
               Index Cond: (id = ci.person_id)
               Filter: ((gender)::text = ANY ('{f,m}'::text[]))
               Rows Removed by Filter: 0
               Buffers: shared hit=307 read=53
 Planning:
   Buffers: shared hit=485 read=89
 Planning Time: 13.947 ms
 Execution Time: 290.553 ms
(69 rows)

