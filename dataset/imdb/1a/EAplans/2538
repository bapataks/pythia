                                                                                                                                 QUERY PLAN                                                                                                                                  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Aggregate  (cost=364301.76..364301.77 rows=1 width=8) (actual time=1175.904..1175.910 rows=1 loops=1)
   Buffers: shared hit=87999 read=32761
   ->  Nested Loop  (cost=2.17..364301.76 rows=1 width=0) (actual time=51.651..1175.872 rows=182 loops=1)
         Buffers: shared hit=87999 read=32761
         ->  Nested Loop  (cost=1.74..364287.84 rows=6 width=4) (actual time=50.596..1148.616 rows=766 loops=1)
               Join Filter: (ci.role_id = rt.id)
               Rows Removed by Join Filter: 2825
               Buffers: shared hit=85546 read=32150
               ->  Nested Loop  (cost=1.74..364285.64 rows=14 width=8) (actual time=50.581..1147.879 rows=1192 loops=1)
                     Buffers: shared hit=85545 read=32150
                     ->  Nested Loop  (cost=1.30..364241.94 rows=1 width=12) (actual time=50.538..1130.763 rows=58 loops=1)
                           Buffers: shared hit=85170 read=31193
                           ->  Nested Loop  (cost=1.30..364239.52 rows=1 width=16) (actual time=50.528..1130.029 rows=58 loops=1)
                                 Buffers: shared hit=85112 read=31193
                                 ->  Nested Loop  (cost=1.30..364237.10 rows=1 width=20) (actual time=50.509..1128.575 rows=58 loops=1)
                                       Buffers: shared hit=85054 read=31193
                                       ->  Nested Loop  (cost=0.86..363303.45 rows=22 width=12) (actual time=2.853..752.261 rows=3373 loops=1)
                                             Join Filter: (t.kind_id = kt.id)
                                             Rows Removed by Join Filter: 59563
                                             Buffers: shared hit=61188 read=16154
                                             ->  Nested Loop  (cost=0.86..363300.23 rows=38 width=16) (actual time=0.766..739.631 rows=17615 loops=1)
                                                   Buffers: shared hit=61187 read=16154
                                                   ->  Index Scan using info_type_id_movie_info on movie_info mi2  (cost=0.43..362894.51 rows=48 width=8) (actual time=0.687..135.657 rows=18067 loops=1)
                                                         Index Cond: (info_type_id = 105)
                                                         Filter: ((info)::text = ANY ('{"$1,000","$1,000,000","$15,000","$18,000,000","$2,000","$20,000,000",$200,"$250,000","$30,000","$35,000,000","$350,000","$4,000,000","$5,000","$6,000,000","$80,000,000"}'::text[]))
                                                         Rows Removed by Filter: 103796
                                                         Buffers: shared hit=667 read=4406
                                                   ->  Index Scan using title_pkey on title t  (cost=0.43..8.45 rows=1 width=8) (actual time=0.033..0.033 rows=1 loops=18067)
                                                         Index Cond: (id = mi2.movie_id)
                                                         Filter: ((production_year <= 2015) AND (production_year >= 1975))
                                                         Rows Removed by Filter: 0
                                                         Buffers: shared hit=60520 read=11748
                                             ->  Materialize  (cost=0.00..1.12 rows=4 width=4) (actual time=0.000..0.000 rows=4 loops=17615)
                                                   Buffers: shared hit=1
                                                   ->  Seq Scan on kind_type kt  (cost=0.00..1.10 rows=4 width=4) (actual time=0.017..0.019 rows=4 loops=1)
                                                         Filter: ((kind)::text = ANY ('{episode,"tv series","video game","video movie"}'::text[]))
                                                         Rows Removed by Filter: 3
                                                         Buffers: shared hit=1
                                       ->  Index Scan using movie_id_movie_info on movie_info mi1  (cost=0.43..42.43 rows=1 width=8) (actual time=0.110..0.111 rows=0 loops=3373)
                                             Index Cond: (movie_id = t.id)
                                             Filter: ((info_type_id = 18) AND ((info)::text = ANY ('{"Brooklyn, New York City, New York, USA",France,Mexico,"Seattle, Washington, USA",UK,"Washington, District of Columbia, USA"}'::text[])))
                                             Rows Removed by Filter: 11
                                             Buffers: shared hit=23866 read=15039
                                 ->  Seq Scan on info_type it1  (cost=0.00..2.41 rows=1 width=4) (actual time=0.017..0.023 rows=1 loops=58)
                                       Filter: (id = 18)
                                       Rows Removed by Filter: 112
                                       Buffers: shared hit=58
                           ->  Seq Scan on info_type it2  (cost=0.00..2.41 rows=1 width=4) (actual time=0.010..0.011 rows=1 loops=58)
                                 Filter: (id = 105)
                                 Rows Removed by Filter: 112
                                 Buffers: shared hit=58
                     ->  Index Scan using movie_id_cast_info on cast_info ci  (cost=0.44..43.32 rows=38 width=12) (actual time=0.056..0.290 rows=21 loops=58)
                           Index Cond: (movie_id = t.id)
                           Buffers: shared hit=375 read=957
               ->  Materialize  (cost=0.00..1.22 rows=5 width=4) (actual time=0.000..0.000 rows=3 loops=1192)
                     Buffers: shared hit=1
                     ->  Seq Scan on role_type rt  (cost=0.00..1.20 rows=5 width=4) (actual time=0.010..0.013 rows=5 loops=1)
                           Filter: ((role)::text = ANY ('{actor,actress,composer,director,writer}'::text[]))
                           Rows Removed by Filter: 7
                           Buffers: shared hit=1
         ->  Index Scan using name_pkey on name n  (cost=0.43..2.32 rows=1 width=4) (actual time=0.035..0.035 rows=0 loops=766)
               Index Cond: (id = ci.person_id)
               Filter: ((gender)::text = 'f'::text)
               Rows Removed by Filter: 1
               Buffers: shared hit=2453 read=611
 Planning:
   Buffers: shared hit=574
 Planning Time: 13.474 ms
 Execution Time: 1176.397 ms
(69 rows)

